
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6. Linear Regression with Multiple Regressors &#8212; Python For Introduction To Econometrics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'six';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7. Hypothesis Tests and Confidence Intervals in Multiple Regression" href="seven.html" />
    <link rel="prev" title="5. Regression with a Single Regressor: Hypothesis Tests and Confidence Intervals" href="five.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Python For Introduction To Econometrics</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Intro
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="one.html">1. Economic Questions and Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="two.html">2. Review of Probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="three.html">3. Review of Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="four.html">4. Linear Regression with One Regressor</a></li>
<li class="toctree-l1"><a class="reference internal" href="five.html">5. Regression with a Single Regressor: Hypothesis Tests and Confidence Intervals</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">6. Linear Regression with Multiple Regressors</a></li>
<li class="toctree-l1"><a class="reference internal" href="seven.html">7. Hypothesis Tests and Confidence Intervals in Multiple Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="eight.html">8. Nonlinear Regression Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="nine.html">9. Assessing Studies Based on Multiple Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="ten.html">10. Regression with Panel Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="eleven.html">11. Regression with a Binary Dependent Variable</a></li>
<li class="toctree-l1"><a class="reference internal" href="twelve.html">12. Instrumental Variables Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="thirteen.html">13. Experiments and Quasi-Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="fourteen.html">14. Prediction with Many Regressors and Big Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="fifteen.html">15. Introduction to Time SeriesRegression and Forecasting</a></li>
<li class="toctree-l1"><a class="reference internal" href="sixteen.html">16. Estimation of Dynamic Causal Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="seventeen.html">17. Additional Topics in Time Series Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="eighteen.html">18. The Theory of Linear Regression with One Regressor</a></li>
<li class="toctree-l1"><a class="reference internal" href="nineteen.html">19. The Theory of Multiple Regression</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/42Ahmed/stockpy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/42Ahmed/stockpy/issues/new?title=Issue%20on%20page%20%2Fsix.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/six.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>6. Linear Regression with Multiple Regressors</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omitted-variable-bias">Omitted Variable Bias</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#addressing-ommited-variable-bias-by-dividing-data-into-groups">Addressing ommited variable bias by dividing data into groups</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#across-all-districts">across all districts,</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-by-percentage-of-english-learners">Differences by Percentage of English Learners</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-the-differences">Why the Differences?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multiple-regression">Multiple Regression</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multicollinearity">Multicollinearity</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perfect-multicollinearity">Perfect Multicollinearity</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fraction-and-percentage">fraction and percentage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wrong-threshold-for-dummy-variable">wrong threshold for dummy variable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#complementary-percentage">Complementary percentage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dummy-variable-trap">Dummy variable trap</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imperfect-multicollinearity">Imperfect Multicollinearity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#control-variables-and-conditional-mean-independence">Control Variables and Conditional Mean Independence</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="linear-regression-with-multiple-regressors">
<h1>6. Linear Regression with Multiple Regressors<a class="headerlink" href="#linear-regression-with-multiple-regressors" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">math</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;data/replication/Replication Data/caschool.xlsx&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F:\miniconda3\envs\py\Lib\site-packages\openpyxl\worksheet\_reader.py:329: UserWarning: Unknown extension is not supported and will be removed
  warn(msg)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>testscr</th>
      <th>comp_stu</th>
      <th>expn_stu</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.900000</td>
      <td>0.510200</td>
      <td>2.040800</td>
      <td>67</td>
      <td>690.799988</td>
      <td>0.343590</td>
      <td>6384.911133</td>
      <td>17.889910</td>
      <td>22.690001</td>
      <td>0.000000</td>
      <td>691.599976</td>
      <td>690.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>61499</td>
      <td>Butte</td>
      <td>Manzanita Elementary</td>
      <td>KK-08</td>
      <td>240</td>
      <td>11.150000</td>
      <td>15.416700</td>
      <td>47.916698</td>
      <td>101</td>
      <td>661.200012</td>
      <td>0.420833</td>
      <td>5099.380859</td>
      <td>21.524664</td>
      <td>9.824000</td>
      <td>4.583333</td>
      <td>660.500000</td>
      <td>661.900024</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>61549</td>
      <td>Butte</td>
      <td>Thermalito Union Elementary</td>
      <td>KK-08</td>
      <td>1550</td>
      <td>82.900002</td>
      <td>55.032299</td>
      <td>76.322601</td>
      <td>169</td>
      <td>643.599976</td>
      <td>0.109032</td>
      <td>5501.954590</td>
      <td>18.697226</td>
      <td>8.978000</td>
      <td>30.000002</td>
      <td>636.299988</td>
      <td>650.900024</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>61457</td>
      <td>Butte</td>
      <td>Golden Feather Union Elementary</td>
      <td>KK-08</td>
      <td>243</td>
      <td>14.000000</td>
      <td>36.475399</td>
      <td>77.049202</td>
      <td>85</td>
      <td>647.700012</td>
      <td>0.349794</td>
      <td>7101.831055</td>
      <td>17.357143</td>
      <td>8.978000</td>
      <td>0.000000</td>
      <td>651.900024</td>
      <td>643.500000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>61523</td>
      <td>Butte</td>
      <td>Palermo Union Elementary</td>
      <td>KK-08</td>
      <td>1335</td>
      <td>71.500000</td>
      <td>33.108601</td>
      <td>78.427002</td>
      <td>171</td>
      <td>640.849976</td>
      <td>0.128090</td>
      <td>5235.987793</td>
      <td>18.671329</td>
      <td>9.080333</td>
      <td>13.857677</td>
      <td>641.799988</td>
      <td>639.900024</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="omitted-variable-bias">
<h2>Omitted Variable Bias<a class="headerlink" href="#omitted-variable-bias" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Observation Number&#39;, &#39;dist_cod&#39;, &#39;county&#39;, &#39;district&#39;, &#39;gr_span&#39;,
       &#39;enrl_tot&#39;, &#39;teachers&#39;, &#39;calw_pct&#39;, &#39;meal_pct&#39;, &#39;computer&#39;, &#39;testscr&#39;,
       &#39;comp_stu&#39;, &#39;expn_stu&#39;, &#39;str&#39;, &#39;avginc&#39;, &#39;el_pct&#39;, &#39;read_scr&#39;,
       &#39;math_scr&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Students who are still learning English might perform worse on standardized tests than
native English speakers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;str&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;el_pct&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.18764236785449276)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">,</span><span class="s1">&#39;el_pct&#39;</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;str&#39;, ylabel=&#39;el_pct&#39;&gt;
</pre></div>
</div>
<img alt="_images/53429fc38492e736f65acc82c58f379ec00538559a8cc6ba0690cf4568ad247e.png" src="_images/53429fc38492e736f65acc82c58f379ec00538559a8cc6ba0690cf4568ad247e.png" />
</div>
</div>
<p>This small but positive correlation suggests that districts with more
English learners tend to have a higher student–teacher ratio (larger classes)</p>
<p>It is plausible that students who are still learning English will do
worse on standardized tests than native English speakers</p>
<p><strong>Percentage of English learners</strong>:
correlated with student teacher ratio ✅<br />
determinant of test score ✅<br />
<span class="math notranslate nohighlight">\( \therefore\)</span> omitting it leads to ommited variable bias</p>
<p><strong>Time of day of the test</strong>:<br />
uncorrelated with student teacher ratio ❌<br />
determinant of test score ✅<br />
<span class="math notranslate nohighlight">\( \therefore\)</span> omitting it does not lead to ommited variable bias</p>
<p><strong>Parking lot space per pupil</strong>:
(the area of the teacher parking lot divided by the number of students)</p>
<p>correlated with student teacher ratio ✅<br />
determinant of test score ❌<br />
<span class="math notranslate nohighlight">\( \therefore\)</span> omitting it does not lead to ommited variable bias</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       0.000000
1       4.583333
2      30.000002
3       0.000000
4      13.857677
         ...    
415     5.995935
416     4.726101
417    24.263039
418     2.970297
419     5.005624
Name: el_pct, Length: 420, dtype: float64
</pre></div>
</div>
</div>
</div>
<section id="addressing-ommited-variable-bias-by-dividing-data-into-groups">
<h3>Addressing ommited variable bias by dividing data into groups<a class="headerlink" href="#addressing-ommited-variable-bias-by-dividing-data-into-groups" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">8.8</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt; 1.9&#39;</span><span class="p">,</span> <span class="s1">&#39;1.9-8.8&#39;</span><span class="p">,</span> <span class="s1">&#39;8.8-23&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt; 23&#39;</span><span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct_category&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>testscr</th>
      <th>comp_stu</th>
      <th>expn_stu</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.900000</td>
      <td>0.510200</td>
      <td>2.040800</td>
      <td>67</td>
      <td>690.799988</td>
      <td>0.343590</td>
      <td>6384.911133</td>
      <td>17.889910</td>
      <td>22.690001</td>
      <td>0.000000</td>
      <td>691.599976</td>
      <td>690.000000</td>
      <td>&lt; 1.9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>61499</td>
      <td>Butte</td>
      <td>Manzanita Elementary</td>
      <td>KK-08</td>
      <td>240</td>
      <td>11.150000</td>
      <td>15.416700</td>
      <td>47.916698</td>
      <td>101</td>
      <td>661.200012</td>
      <td>0.420833</td>
      <td>5099.380859</td>
      <td>21.524664</td>
      <td>9.824000</td>
      <td>4.583333</td>
      <td>660.500000</td>
      <td>661.900024</td>
      <td>1.9-8.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>61549</td>
      <td>Butte</td>
      <td>Thermalito Union Elementary</td>
      <td>KK-08</td>
      <td>1550</td>
      <td>82.900002</td>
      <td>55.032299</td>
      <td>76.322601</td>
      <td>169</td>
      <td>643.599976</td>
      <td>0.109032</td>
      <td>5501.954590</td>
      <td>18.697226</td>
      <td>8.978000</td>
      <td>30.000002</td>
      <td>636.299988</td>
      <td>650.900024</td>
      <td>&gt; 23</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>61457</td>
      <td>Butte</td>
      <td>Golden Feather Union Elementary</td>
      <td>KK-08</td>
      <td>243</td>
      <td>14.000000</td>
      <td>36.475399</td>
      <td>77.049202</td>
      <td>85</td>
      <td>647.700012</td>
      <td>0.349794</td>
      <td>7101.831055</td>
      <td>17.357143</td>
      <td>8.978000</td>
      <td>0.000000</td>
      <td>651.900024</td>
      <td>643.500000</td>
      <td>&lt; 1.9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>61523</td>
      <td>Butte</td>
      <td>Palermo Union Elementary</td>
      <td>KK-08</td>
      <td>1335</td>
      <td>71.500000</td>
      <td>33.108601</td>
      <td>78.427002</td>
      <td>171</td>
      <td>640.849976</td>
      <td>0.128090</td>
      <td>5235.987793</td>
      <td>18.671329</td>
      <td>9.080333</td>
      <td>13.857677</td>
      <td>641.799988</td>
      <td>639.900024</td>
      <td>8.8-23</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;str&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;&gt;= 20&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;&lt; 20&#39;</span><span class="p">})</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>testscr</th>
      <th>comp_stu</th>
      <th>expn_stu</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.900000</td>
      <td>0.510200</td>
      <td>2.040800</td>
      <td>67</td>
      <td>690.799988</td>
      <td>0.343590</td>
      <td>6384.911133</td>
      <td>17.889910</td>
      <td>22.690001</td>
      <td>0.000000</td>
      <td>691.599976</td>
      <td>690.000000</td>
      <td>&lt; 1.9</td>
      <td>&lt; 20</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>61499</td>
      <td>Butte</td>
      <td>Manzanita Elementary</td>
      <td>KK-08</td>
      <td>240</td>
      <td>11.150000</td>
      <td>15.416700</td>
      <td>47.916698</td>
      <td>101</td>
      <td>661.200012</td>
      <td>0.420833</td>
      <td>5099.380859</td>
      <td>21.524664</td>
      <td>9.824000</td>
      <td>4.583333</td>
      <td>660.500000</td>
      <td>661.900024</td>
      <td>1.9-8.8</td>
      <td>&gt;= 20</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>61549</td>
      <td>Butte</td>
      <td>Thermalito Union Elementary</td>
      <td>KK-08</td>
      <td>1550</td>
      <td>82.900002</td>
      <td>55.032299</td>
      <td>76.322601</td>
      <td>169</td>
      <td>643.599976</td>
      <td>0.109032</td>
      <td>5501.954590</td>
      <td>18.697226</td>
      <td>8.978000</td>
      <td>30.000002</td>
      <td>636.299988</td>
      <td>650.900024</td>
      <td>&gt; 23</td>
      <td>&lt; 20</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>61457</td>
      <td>Butte</td>
      <td>Golden Feather Union Elementary</td>
      <td>KK-08</td>
      <td>243</td>
      <td>14.000000</td>
      <td>36.475399</td>
      <td>77.049202</td>
      <td>85</td>
      <td>647.700012</td>
      <td>0.349794</td>
      <td>7101.831055</td>
      <td>17.357143</td>
      <td>8.978000</td>
      <td>0.000000</td>
      <td>651.900024</td>
      <td>643.500000</td>
      <td>&lt; 1.9</td>
      <td>&lt; 20</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>61523</td>
      <td>Butte</td>
      <td>Palermo Union Elementary</td>
      <td>KK-08</td>
      <td>1335</td>
      <td>71.500000</td>
      <td>33.108601</td>
      <td>78.427002</td>
      <td>171</td>
      <td>640.849976</td>
      <td>0.128090</td>
      <td>5235.987793</td>
      <td>18.671329</td>
      <td>9.080333</td>
      <td>13.857677</td>
      <td>641.799988</td>
      <td>639.900024</td>
      <td>8.8-23</td>
      <td>&lt; 20</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;el_pct_category&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
    <span class="n">avg_test_score</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;testscr&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">),</span>
    <span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;testscr&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>D</th>
      <th>el_pct_category</th>
      <th>avg_test_score</th>
      <th>n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>&lt; 20</td>
      <td>&lt; 1.9</td>
      <td>664.470391</td>
      <td>76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>&lt; 20</td>
      <td>1.9-8.8</td>
      <td>665.157029</td>
      <td>64</td>
    </tr>
    <tr>
      <th>2</th>
      <td>&lt; 20</td>
      <td>8.8-23</td>
      <td>654.882406</td>
      <td>54</td>
    </tr>
    <tr>
      <th>3</th>
      <td>&lt; 20</td>
      <td>&gt; 23</td>
      <td>636.730687</td>
      <td>44</td>
    </tr>
    <tr>
      <th>4</th>
      <td>&gt;= 20</td>
      <td>&lt; 1.9</td>
      <td>665.370377</td>
      <td>27</td>
    </tr>
    <tr>
      <th>5</th>
      <td>&gt;= 20</td>
      <td>1.9-8.8</td>
      <td>661.828405</td>
      <td>44</td>
    </tr>
    <tr>
      <th>6</th>
      <td>&gt;= 20</td>
      <td>8.8-23</td>
      <td>649.713007</td>
      <td>50</td>
    </tr>
    <tr>
      <th>7</th>
      <td>&gt;= 20</td>
      <td>&gt; 23</td>
      <td>634.836888</td>
      <td>61</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct_category&#39;</span><span class="p">],</span>
                            <span class="n">values</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;testscr&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">mean_crosstab</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>el_pct_category</th>
      <th>&lt; 1.9</th>
      <th>1.9-8.8</th>
      <th>8.8-23</th>
      <th>&gt; 23</th>
    </tr>
    <tr>
      <th>D</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>&lt; 20</th>
      <td>664.470391</td>
      <td>665.157029</td>
      <td>654.882406</td>
      <td>636.730687</td>
    </tr>
    <tr>
      <th>&gt;= 20</th>
      <td>665.370377</td>
      <td>661.828405</td>
      <td>649.713007</td>
      <td>634.836888</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct_category&#39;</span><span class="p">])</span>
<span class="n">count_crosstab</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>el_pct_category</th>
      <th>&lt; 1.9</th>
      <th>1.9-8.8</th>
      <th>8.8-23</th>
      <th>&gt; 23</th>
    </tr>
    <tr>
      <th>D</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>&lt; 20</th>
      <td>76</td>
      <td>64</td>
      <td>54</td>
      <td>44</td>
    </tr>
    <tr>
      <th>&gt;= 20</th>
      <td>27</td>
      <td>44</td>
      <td>50</td>
      <td>61</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">averageScoreSmallRatio</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&lt; 20&#39;</span><span class="p">][</span><span class="s1">&#39;testscr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">averageScoreSmallRatio</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(657.3512591193704)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">averageScorelargeRatio</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&gt;= 20&#39;</span><span class="p">][</span><span class="s1">&#39;testscr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">averageScorelargeRatio</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(649.9788489708534)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">averageScoreSmallRatio</span> <span class="o">-</span> <span class="n">averageScorelargeRatio</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(7.3724101485170195)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&gt;= 20&#39;</span><span class="p">][</span><span class="s1">&#39;testscr&#39;</span><span class="p">],</span>
                                   <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&lt; 20&#39;</span><span class="p">][</span><span class="s1">&#39;testscr&#39;</span><span class="p">],</span> <span class="n">equal_var</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(-4.042581848666498), np.float64(6.332554425244588e-05))
</pre></div>
</div>
</div>
</div>
<p>null hypothesis that the mean test score is the same in the two
groups is rejected at the 1% significance level</p>
<section id="across-all-districts">
<h4>across all districts,<a class="headerlink" href="#across-all-districts" title="Link to this heading">#</a></h4>
<p>those with a low student–teacher ratio have, on average, a test score 7.4 points higher than those with a high student–teacher ratio. The t-statistic of 4.04 indicates that this difference is statistically significant.</p>
</section>
<section id="differences-by-percentage-of-english-learners">
<h4>Differences by Percentage of English Learners<a class="headerlink" href="#differences-by-percentage-of-english-learners" title="Link to this heading">#</a></h4>
<p>&lt;= 1.9%:</p>
<p>Average test score for districts with low student–teacher ratio: 664.5<br />
Average test score for districts with high student–teacher ratio: 665.4<br />
Difference in test scores: -0.9<br />
t-statistic: -0.30</p>
<p>1.9–8.8%:</p>
<p>Average test score for districts with low student–teacher ratio: 665.2<br />
Average test score for districts with high student–teacher ratio: 661.8<br />
Difference in test scores: 3.3<br />
t-statistic: 1.13</p>
<p>8.8–23.0%:</p>
<p>Average test score for districts with low student–teacher ratio: 654.9<br />
Average test score for districts with high student–teacher ratio: 649.7<br />
Difference in test scores: 5.2<br />
t-statistic: 1.72</p>
<p>23.0%:</p>
<p>Average test score for districts with low student–teacher ratio: 636.7<br />
Average test score for districts with high student–teacher ratio: 634.8<br />
Difference in test scores: 1.9<br />
t-statistic: 0.68</p>
<p>Overall Effect: The overall difference in test scores suggests that districts with low student–teacher ratios tend to have higher test scores.</p>
<p>By Quartile: When breaking down by the percentage of English learners, the differences in test scores are smaller and less consistent. This suggests that the effect of student–teacher ratio on test scores is influenced by the percentage of English learners in the district.</p>
</section>
<section id="why-the-differences">
<h4>Why the Differences?<a class="headerlink" href="#why-the-differences" title="Link to this heading">#</a></h4>
<p>Districts with more English learners tend to have both higher student–teacher ratios and lower test scores.<br />
The large overall difference in test scores (7.4 points) is partly due to the fact that districts with fewer English learners (who generally have higher test scores) also tend to have lower student–teacher ratios.<br />
When you control for the percentage of English learners, the differences in test scores between low and high student–teacher ratio districts are smaller. This indicates that the percentage of English learners is an important factor that affects test scores.</p>
</section>
</section>
</section>
<section id="multiple-regression">
<h2>Multiple Regression<a class="headerlink" href="#multiple-regression" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ str&quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.051
Model:                            OLS   Adj. R-squared:                  0.049
Method:                 Least Squares   F-statistic:                     19.13
Date:                Wed, 10 Jul 2024   Prob (F-statistic):           1.55e-05
Time:                        14:34:50   Log-Likelihood:                -1822.2
No. Observations:                 420   AIC:                             3648.
Df Residuals:                     418   BIC:                             3657.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    698.9330     10.400     67.206      0.000     678.550     719.316
str           -2.2798      0.521     -4.373      0.000      -3.302      -1.258
==============================================================================
Omnibus:                        5.390   Durbin-Watson:                   0.129
Prob(Omnibus):                  0.068   Jarque-Bera (JB):                3.589
Skew:                          -0.012   Prob(JB):                        0.166
Kurtosis:                       2.548   Cond. No.                         207.
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">rsquared</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.051240095079614356)
</pre></div>
</div>
</div>
</div>
<p>Student Teacher Ratio explains only 5% of the variation in test scores</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model2</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ str + el_pct&quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.426
Model:                            OLS   Adj. R-squared:                  0.424
Method:                 Least Squares   F-statistic:                     222.8
Date:                Wed, 10 Jul 2024   Prob (F-statistic):           1.56e-66
Time:                        14:34:39   Log-Likelihood:                -1716.6
No. Observations:                 420   AIC:                             3439.
Df Residuals:                     417   BIC:                             3451.
Df Model:                           2                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    686.0322      8.754     78.365      0.000     668.874     703.190
str           -1.1013      0.434     -2.537      0.011      -1.952      -0.250
el_pct        -0.6498      0.031    -20.888      0.000      -0.711      -0.589
==============================================================================
Omnibus:                        0.631   Durbin-Watson:                   0.686
Prob(Omnibus):                  0.729   Jarque-Bera (JB):                0.550
Skew:                           0.088   Prob(JB):                        0.760
Kurtosis:                       3.024   Cond. No.                         301.
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
</pre></div>
</div>
</div>
</div>
<p>coefficient of str became half (-1.10 vs -2.28) cuz it controls for english percentage</p>
<p>among
schools within the same quartile of percentage of English learners, the difference in test
scores between schools with a high vs. a low student–teacher ratio is less than the difference if one does not hold constant the percentage of English learners.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">ssr</span><span class="o">/</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">nobs</span> <span class="o">-</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>14.4644849557101
</pre></div>
</div>
</div>
</div>
<p>standard error decreased, predictions are more precise</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model2</span><span class="o">.</span><span class="n">rsquared</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.4264313614327716)
</pre></div>
</div>
</div>
</div>
<p>when EL_pct is added to the regression, 42.6% of the variation in test scores is explained</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model2</span><span class="o">.</span><span class="n">rsquared_adj</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.4236804327106266)
</pre></div>
</div>
</div>
</div>
<p>n is large and only two regressors appear, difference between <span class="math notranslate nohighlight">\(R^2\)</span> and <span class="math notranslate nohighlight">\(\bar{R}^2\)</span> is small</p>
</section>
<section id="multicollinearity">
<h2>Multicollinearity<a class="headerlink" href="#multicollinearity" title="Link to this heading">#</a></h2>
<section id="perfect-multicollinearity">
<h3>Perfect Multicollinearity<a class="headerlink" href="#perfect-multicollinearity" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model2</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ str + str&quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.051
Model:                            OLS   Adj. R-squared:                  0.049
Method:                 Least Squares   F-statistic:                     19.13
Date:                Wed, 10 Jul 2024   Prob (F-statistic):           1.55e-05
Time:                        14:14:50   Log-Likelihood:                -1822.2
No. Observations:                 420   AIC:                             3648.
Df Residuals:                     418   BIC:                             3657.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    698.9330     10.400     67.206      0.000     678.550     719.316
str           -2.2798      0.521     -4.373      0.000      -3.302      -1.258
==============================================================================
Omnibus:                        5.390   Durbin-Watson:                   0.129
Prob(Omnibus):                  0.068   Jarque-Bera (JB):                3.589
Skew:                          -0.012   Prob(JB):                        0.166
Kurtosis:                       2.548   Cond. No.                         207.
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
</pre></div>
</div>
</div>
</div>
<section id="fraction-and-percentage">
<h4>fraction and percentage<a class="headerlink" href="#fraction-and-percentage" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;fracel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>...</th>
      <th>comp_stu</th>
      <th>expn_stu</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
      <th>D</th>
      <th>fracel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.9</td>
      <td>0.5102</td>
      <td>2.0408</td>
      <td>67</td>
      <td>...</td>
      <td>0.34359</td>
      <td>6384.911133</td>
      <td>17.88991</td>
      <td>22.690001</td>
      <td>0.0</td>
      <td>691.599976</td>
      <td>690.0</td>
      <td>&lt; 1.9</td>
      <td>&lt; 20</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 21 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model3</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ str + el_pct + fracel&quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model3</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.426
Model:                            OLS   Adj. R-squared:                  0.424
Method:                 Least Squares   F-statistic:                     222.8
Date:                Wed, 10 Jul 2024   Prob (F-statistic):           1.56e-66
Time:                        14:14:50   Log-Likelihood:                -1716.6
No. Observations:                 420   AIC:                             3439.
Df Residuals:                     417   BIC:                             3451.
Df Model:                           2                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    686.0322      8.754     78.365      0.000     668.874     703.190
str           -1.1013      0.434     -2.537      0.011      -1.952      -0.250
el_pct        -0.6497      0.031    -20.888      0.000      -0.711      -0.589
fracel        -0.0065      0.000    -20.888      0.000      -0.007      -0.006
==============================================================================
Omnibus:                        0.631   Durbin-Watson:                   0.686
Prob(Omnibus):                  0.729   Jarque-Bera (JB):                0.550
Skew:                           0.088   Prob(JB):                        0.760
Kurtosis:                       3.024   Cond. No.                     5.10e+17
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
[2] The smallest eigenvalue is 1.32e-30. This might indicate that there are
strong multicollinearity problems or that the design matrix is singular.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F:\miniconda3\envs\py\Lib\site-packages\statsmodels\base\model.py:1894: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 3, but rank is 2
  warnings.warn(&#39;covariance of constraints does not have full &#39;
</pre></div>
</div>
</div>
</div>
<p>OLS fails because you are asking, What is the effect of a unit change in the
percentage of English learners, holding constant the fraction of English learners?<br />
Because the percentage of English learners and the fraction of English learners move
together in a perfect linear relationship, this question makes no sense, and OLS cannot answer it</p>
</section>
<section id="wrong-threshold-for-dummy-variable">
<h4>wrong threshold for dummy variable<a class="headerlink" href="#wrong-threshold-for-dummy-variable" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;NVS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;str&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>...</th>
      <th>expn_stu</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
      <th>D</th>
      <th>fracel</th>
      <th>NVS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.9</td>
      <td>0.5102</td>
      <td>2.0408</td>
      <td>67</td>
      <td>...</td>
      <td>6384.911133</td>
      <td>17.88991</td>
      <td>22.690001</td>
      <td>0.0</td>
      <td>691.599976</td>
      <td>690.0</td>
      <td>&lt; 1.9</td>
      <td>&lt; 20</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 22 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;NVS&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NVS
1    420
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;str&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    420.000000
mean      19.640425
std        1.891812
min       14.000000
25%       18.582360
50%       19.723208
75%       20.871815
max       25.799999
Name: str, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Minimum str is 14, hence NVS is always 1, can be written as perfect linear relationship with the intercept</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model4</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ str + NVS &quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model4</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.051
Model:                            OLS   Adj. R-squared:                  0.049
Method:                 Least Squares   F-statistic:                 2.646e+05
Date:                Wed, 10 Jul 2024   Prob (F-statistic):               0.00
Time:                        14:14:50   Log-Likelihood:                -1822.2
No. Observations:                 420   AIC:                             3648.
Df Residuals:                     418   BIC:                             3657.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    349.4665      5.200     67.206      0.000     339.275     359.658
str           -2.2798      0.521     -4.373      0.000      -3.302      -1.258
NVS          349.4665      5.200     67.206      0.000     339.275     359.658
==============================================================================
Omnibus:                        5.390   Durbin-Watson:                   0.129
Prob(Omnibus):                  0.068   Jarque-Bera (JB):                3.589
Skew:                          -0.012   Prob(JB):                        0.166
Kurtosis:                       2.548   Cond. No.                     5.69e+19
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
[2] The smallest eigenvalue is 5.07e-35. This might indicate that there are
strong multicollinearity problems or that the design matrix is singular.
</pre></div>
</div>
</div>
</div>
</section>
<section id="complementary-percentage">
<h4>Complementary percentage<a class="headerlink" href="#complementary-percentage" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># percentage of english speakers</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;es_pct&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>...</th>
      <th>str</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
      <th>D</th>
      <th>fracel</th>
      <th>NVS</th>
      <th>es_pct</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.9</td>
      <td>0.5102</td>
      <td>2.0408</td>
      <td>67</td>
      <td>...</td>
      <td>17.88991</td>
      <td>22.690001</td>
      <td>0.0</td>
      <td>691.599976</td>
      <td>690.0</td>
      <td>&lt; 1.9</td>
      <td>&lt; 20</td>
      <td>0.0</td>
      <td>1</td>
      <td>100.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 23 columns</p>
</div></div></div>
</div>
<p>es_pct = 100 - el_pct = 100 * X0i - el_pct<br />
must exclude intercept or the complementary percentage</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model5</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ es_pct + el_pct &quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model5</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.415
Model:                            OLS   Adj. R-squared:                  0.413
Method:                 Least Squares   F-statistic:                 4.466e+05
Date:                Wed, 10 Jul 2024   Prob (F-statistic):               0.00
Time:                        14:14:51   Log-Likelihood:                -1720.7
No. Observations:                 420   AIC:                             3445.
Df Residuals:                     418   BIC:                             3454.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept      0.1262      0.000    548.782      0.000       0.126       0.127
es_pct         6.6461      0.010    682.550      0.000       6.627       6.665
el_pct         5.9750      0.026    227.777      0.000       5.924       6.026
==============================================================================
Omnibus:                        4.048   Durbin-Watson:                   0.680
Prob(Omnibus):                  0.132   Jarque-Bera (JB):                3.793
Skew:                           0.211   Prob(JB):                        0.150
Kurtosis:                       3.195   Cond. No.                     6.59e+17
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
[2] The smallest eigenvalue is 7.33e-30. This might indicate that there are
strong multicollinearity problems or that the design matrix is singular.
</pre></div>
</div>
</div>
</div>
</section>
<section id="dummy-variable-trap">
<h4>Dummy variable trap<a class="headerlink" href="#dummy-variable-trap" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;str&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">],</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation Number</th>
      <th>dist_cod</th>
      <th>county</th>
      <th>district</th>
      <th>gr_span</th>
      <th>enrl_tot</th>
      <th>teachers</th>
      <th>calw_pct</th>
      <th>meal_pct</th>
      <th>computer</th>
      <th>...</th>
      <th>avginc</th>
      <th>el_pct</th>
      <th>read_scr</th>
      <th>math_scr</th>
      <th>el_pct_category</th>
      <th>fracel</th>
      <th>NVS</th>
      <th>es_pct</th>
      <th>D_0</th>
      <th>D_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>75119</td>
      <td>Alameda</td>
      <td>Sunol Glen Unified</td>
      <td>KK-08</td>
      <td>195</td>
      <td>10.9</td>
      <td>0.5102</td>
      <td>2.0408</td>
      <td>67</td>
      <td>...</td>
      <td>22.690001</td>
      <td>0.0</td>
      <td>691.599976</td>
      <td>690.0</td>
      <td>&lt; 1.9</td>
      <td>0.0</td>
      <td>1</td>
      <td>100.0</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 24 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model6</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~ D_0 + D_1 &quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model6</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.037
Model:                            OLS   Adj. R-squared:                  0.035
Method:                 Least Squares   F-statistic:                 2.578e+05
Date:                Wed, 10 Jul 2024   Prob (F-statistic):               0.00
Time:                        14:14:51   Log-Likelihood:                -1825.4
No. Observations:                 420   AIC:                             3655.
Df Residuals:                     418   BIC:                             3663.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
===============================================================================
                  coef    std err          z      P&gt;|z|      [0.025      0.975]
-------------------------------------------------------------------------------
Intercept     435.7767      0.608    716.860      0.000     434.585     436.968
D_0[T.True]   214.2021      0.976    219.384      0.000     212.288     216.116
D_1[T.True]   221.5746      0.946    234.294      0.000     219.721     223.428
==============================================================================
Omnibus:                        3.061   Durbin-Watson:                   0.110
Prob(Omnibus):                  0.216   Jarque-Bera (JB):                2.448
Skew:                           0.052   Prob(JB):                        0.294
Kurtosis:                       2.641   Cond. No.                     1.03e+16
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
[2] The smallest eigenvalue is 5.93e-30. This might indicate that there are
strong multicollinearity problems or that the design matrix is singular.
</pre></div>
</div>
</div>
</div>
<p>Must have reference dummy variable</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model7</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~  D_1 &quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model7</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.037
Model:                            OLS   Adj. R-squared:                  0.035
Method:                 Least Squares   F-statistic:                     16.34
Date:                Wed, 10 Jul 2024   Prob (F-statistic):           6.29e-05
Time:                        14:16:00   Log-Likelihood:                -1825.4
No. Observations:                 420   AIC:                             3655.
Df Residuals:                     418   BIC:                             3663.
Df Model:                           1                                         
Covariance Type:                  HC2                                         
===============================================================================
                  coef    std err          z      P&gt;|z|      [0.025      0.975]
-------------------------------------------------------------------------------
Intercept     649.9788      1.323    491.151      0.000     647.385     652.573
D_1[T.True]     7.3724      1.824      4.043      0.000       3.798      10.947
==============================================================================
Omnibus:                        3.061   Durbin-Watson:                   0.110
Prob(Omnibus):                  0.216   Jarque-Bera (JB):                2.448
Skew:                           0.052   Prob(JB):                        0.294
Kurtosis:                       2.641   Cond. No.                         2.81
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="imperfect-multicollinearity">
<h3>Imperfect Multicollinearity<a class="headerlink" href="#imperfect-multicollinearity" title="Link to this heading">#</a></h3>
<p>if <span class="math notranslate nohighlight">\( X_1, X_2 \)</span> are correlated, it  would be difficult to use these data to estimate the coefficient on <span class="math notranslate nohighlight">\( X_1 \)</span>, holding constant <span class="math notranslate nohighlight">\(X_2\)</span>.</p>
</section>
</section>
<section id="control-variables-and-conditional-mean-independence">
<h2>Control Variables and Conditional Mean Independence<a class="headerlink" href="#control-variables-and-conditional-mean-independence" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;el_pct&#39;</span><span class="p">,</span> <span class="s1">&#39;meal_pct&#39;</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_pct&#39;, ylabel=&#39;meal_pct&#39;&gt;
</pre></div>
</div>
<img alt="_images/f86383c0ce2820ed1519362c82041cdaadfb6c547441d34eb9ea45de255756f9.png" src="_images/f86383c0ce2820ed1519362c82041cdaadfb6c547441d34eb9ea45de255756f9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;el_pct&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;meal_pct&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.6530607156221082)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model7</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s2">&quot;testscr ~  str + el_pct + meal_pct &quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;HC2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model7</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                testscr   R-squared:                       0.775
Model:                            OLS   Adj. R-squared:                  0.773
Method:                 Least Squares   F-statistic:                     451.5
Date:                Wed, 10 Jul 2024   Prob (F-statistic):          2.13e-130
Time:                        14:28:24   Log-Likelihood:                -1520.5
No. Observations:                 420   AIC:                             3049.
Df Residuals:                     416   BIC:                             3065.
Df Model:                           3                                         
Covariance Type:                  HC2                                         
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept    700.1500      5.591    125.225      0.000     689.192     711.108
str           -0.9983      0.271     -3.680      0.000      -1.530      -0.467
el_pct        -0.1216      0.033     -3.689      0.000      -0.186      -0.057
meal_pct      -0.5473      0.024    -22.659      0.000      -0.595      -0.500
==============================================================================
Omnibus:                        6.998   Durbin-Watson:                   1.438
Prob(Omnibus):                  0.030   Jarque-Bera (JB):               10.626
Skew:                          -0.024   Prob(JB):                      0.00493
Kurtosis:                       3.778   Cond. No.                         621.
==============================================================================

Notes:
[1] Standard Errors are heteroscedasticity robust (HC2)
</pre></div>
</div>
</div>
</div>
<p>Coefficient of meal_pct is very large but does not have causal interpretation</p>
<p>Eliminating the reduced-price lunch program to reduce meal_pct to 0% is unlikely to boost test scores; it may even lower them by leaving students hungry.
It is a control variable not a regressor</p>
<p>We Include <strong>control variables</strong> to make regressors uncorrelated with error term</p>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<p>🚧 Under Construction</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="five.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">5. Regression with a Single Regressor: Hypothesis Tests and Confidence Intervals</p>
      </div>
    </a>
    <a class="right-next"
       href="seven.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">7. Hypothesis Tests and Confidence Intervals in Multiple Regression</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omitted-variable-bias">Omitted Variable Bias</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#addressing-ommited-variable-bias-by-dividing-data-into-groups">Addressing ommited variable bias by dividing data into groups</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#across-all-districts">across all districts,</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-by-percentage-of-english-learners">Differences by Percentage of English Learners</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-the-differences">Why the Differences?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multiple-regression">Multiple Regression</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multicollinearity">Multicollinearity</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perfect-multicollinearity">Perfect Multicollinearity</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fraction-and-percentage">fraction and percentage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wrong-threshold-for-dummy-variable">wrong threshold for dummy variable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#complementary-percentage">Complementary percentage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dummy-variable-trap">Dummy variable trap</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imperfect-multicollinearity">Imperfect Multicollinearity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#control-variables-and-conditional-mean-independence">Control Variables and Conditional Mean Independence</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ahmed H. Darwish
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>